{
	"$schema": "https://playground.wordpress.net/blueprint-schema.json",
	"landingPage": "/wp-admin/admin.php?page=wsscd-campaigns",
	"preferredVersions": {
		"php": "8.0",
		"wp": "latest"
	},
	"phpExtensionBundles": [
		"kitchen-sink"
	],
	"features": {
		"networking": true
	},
	"steps": [
		{
			"step": "installPlugin",
			"pluginData": {
				"resource": "wordpress.org/plugins",
				"slug": "woocommerce"
			}
		},
		{
			"step": "installPlugin",
			"pluginData": {
				"resource": "wordpress.org/plugins",
				"slug": "smart-cycle-discounts"
			}
		},
		{
			"step": "installTheme",
			"themeData": {
				"resource": "wordpress.org/themes",
				"slug": "storefront"
			}
		},
		{
			"step": "activateTheme",
			"themeFolderName": "storefront"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; update_option('blogname', 'Smart Cycle Discounts Demo'); update_option('blogdescription', 'Experience automatic product discounts'); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; delete_transient('_wc_activation_redirect'); update_option('woocommerce_onboarding_profile', array('completed' => true)); update_option('woocommerce_task_list_hidden', 'yes'); update_option('woocommerce_task_list_complete', 'yes'); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; update_user_meta(1, 'wsscd_auto_update_notice_dismissed', true); update_user_meta(1, 'wsscd_review_notice_dismissed', true); update_user_meta(1, 'wsscd_first_sale_notice_dismissed', true); update_user_meta(1, 'wsscd_welcome_notice_dismissed', true); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; WC_Install::create_pages(); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; if (!term_exists('clothing', 'product_cat')) { wp_insert_term('Clothing', 'product_cat', array('slug' => 'clothing')); } if (!term_exists('electronics', 'product_cat')) { wp_insert_term('Electronics', 'product_cat', array('slug' => 'electronics')); } if (!term_exists('accessories', 'product_cat')) { wp_insert_term('Accessories', 'product_cat', array('slug' => 'accessories')); } if (!term_exists('home-garden', 'product_cat')) { wp_insert_term('Home & Garden', 'product_cat', array('slug' => 'home-garden')); } ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; $clothing = get_term_by('slug', 'clothing', 'product_cat'); $electronics = get_term_by('slug', 'electronics', 'product_cat'); $accessories = get_term_by('slug', 'accessories', 'product_cat'); $home = get_term_by('slug', 'home-garden', 'product_cat'); $products = array( array('Classic T-Shirt', '29.99', $clothing), array('Denim Jeans', '79.99', $clothing), array('Summer Dress', '59.99', $clothing), array('Wool Sweater', '89.99', $clothing), array('Wireless Headphones', '149.99', $electronics), array('Smartphone Case', '24.99', $electronics), array('USB-C Charger', '34.99', $electronics), array('Bluetooth Speaker', '79.99', $electronics), array('Leather Wallet', '49.99', $accessories), array('Sunglasses', '89.99', $accessories), array('Watch Band', '19.99', $accessories), array('Ceramic Vase', '44.99', $home), array('Throw Pillow', '29.99', $home), array('Plant Pot Set', '39.99', $home) ); foreach ($products as $p) { $product = new WC_Product_Simple(); $product->set_name($p[0]); $product->set_regular_price($p[1]); $product->set_stock_status('instock'); $product->set_status('publish'); $id = $product->save(); if ($p[2]) { wp_set_object_terms($id, $p[2]->term_id, 'product_cat'); } } ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; global $wpdb; $table = $wpdb->prefix . 'wsscd_campaigns'; $now = current_time('mysql'); $wpdb->insert($table, array('uuid' => wp_generate_uuid4(), 'name' => '20% Off All Clothing', 'slug' => 'clothing-sale', 'description' => 'Get 20% off all items in the Clothing category!', 'status' => 'active', 'priority' => 1, 'product_selection_type' => 'all_products', 'category_ids' => json_encode(array(get_term_by('slug', 'clothing', 'product_cat')->term_id)), 'discount_type' => 'percentage', 'discount_value' => 20.0000, 'discount_rules' => json_encode(array('discount_type' => 'percentage', 'discount_value' => 20)), 'starts_at' => $now, 'ends_at' => date('Y-m-d H:i:s', strtotime('+1 year')), 'timezone' => 'UTC', 'created_by' => 1, 'created_at' => $now, 'updated_at' => $now, 'color_theme' => '#2271b1', 'icon' => 'tag')); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; global $wpdb; $table = $wpdb->prefix . 'wsscd_campaigns'; $now = current_time('mysql'); $wpdb->insert($table, array('uuid' => wp_generate_uuid4(), 'name' => 'Buy More Save More - Electronics', 'slug' => 'electronics-tiered', 'description' => 'Tiered pricing: Buy 2+ get 10% off, Buy 5+ get 20% off!', 'status' => 'active', 'priority' => 2, 'product_selection_type' => 'all_products', 'category_ids' => json_encode(array(get_term_by('slug', 'electronics', 'product_cat')->term_id)), 'discount_type' => 'tiered', 'discount_value' => 0, 'discount_rules' => json_encode(array('discount_type' => 'tiered', 'tiers' => array(array('min_quantity' => 2, 'discount_type' => 'percentage', 'discount_value' => 10), array('min_quantity' => 5, 'discount_type' => 'percentage', 'discount_value' => 20)))), 'starts_at' => $now, 'ends_at' => date('Y-m-d H:i:s', strtotime('+1 year')), 'timezone' => 'UTC', 'created_by' => 1, 'created_at' => $now, 'updated_at' => $now, 'color_theme' => '#d63638', 'icon' => 'chart-line')); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; global $wpdb; $table = $wpdb->prefix . 'wsscd_campaigns'; $now = current_time('mysql'); $wpdb->insert($table, array('uuid' => wp_generate_uuid4(), 'name' => '$5 Off Accessories', 'slug' => 'accessories-fixed', 'description' => 'Fixed discount: $5 off all accessories!', 'status' => 'active', 'priority' => 3, 'product_selection_type' => 'all_products', 'category_ids' => json_encode(array(get_term_by('slug', 'accessories', 'product_cat')->term_id)), 'discount_type' => 'fixed', 'discount_value' => 5.0000, 'discount_rules' => json_encode(array('discount_type' => 'fixed', 'discount_value' => 5)), 'starts_at' => $now, 'ends_at' => date('Y-m-d H:i:s', strtotime('+1 year')), 'timezone' => 'UTC', 'created_by' => 1, 'created_at' => $now, 'updated_at' => $now, 'color_theme' => '#00a32a', 'icon' => 'money-alt')); ?>"
		},
		{
			"step": "runPHP",
			"code": "<?php require '/wordpress/wp-load.php'; global $wpdb; $table = $wpdb->prefix . 'wsscd_campaigns'; $now = current_time('mysql'); $wpdb->insert($table, array('uuid' => wp_generate_uuid4(), 'name' => 'Summer Flash Sale - 30% Off!', 'slug' => 'summer-flash-sale', 'description' => 'Coming soon! 30% off all Home & Garden products for a limited time.', 'status' => 'scheduled', 'priority' => 1, 'product_selection_type' => 'all_products', 'category_ids' => json_encode(array(get_term_by('slug', 'home-garden', 'product_cat')->term_id)), 'discount_type' => 'percentage', 'discount_value' => 30.0000, 'discount_rules' => json_encode(array('discount_type' => 'percentage', 'discount_value' => 30)), 'starts_at' => date('Y-m-d H:i:s', strtotime('+7 days')), 'ends_at' => date('Y-m-d H:i:s', strtotime('+14 days')), 'timezone' => 'UTC', 'created_by' => 1, 'created_at' => $now, 'updated_at' => $now, 'color_theme' => '#f0b849', 'icon' => 'calendar')); ?>"
		},
		{
			"step": "login",
			"username": "admin",
			"password": "password"
		}
	]
}
