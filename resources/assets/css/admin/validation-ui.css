/**
 * Validation Ui
 *
 * @package    SmartCycleDiscounts
 * @subpackage SmartCycleDiscounts/resources/assets/css/admin/validation-ui.css
 * @author     Webstepper.io <contact@webstepper.io>
 * @copyright  2025 Webstepper.io
 * @license    GPL-3.0-or-later https://www.gnu.org/licenses/gpl-3.0.html
 * @link       https://webstepper.io/wordpress-plugins/smart-cycle-discounts
 * @since      1.0.0
 */

/* Field States */
.scd-field-wrapper {
    position: relative;
    margin-bottom: var(--scd-spacing-lg);
    transition: all var(--scd-transition-base) ease;
}

/* Required indicator styles handled by wizard-steps.css */

/* Field Validation States - Standardized */
.scd-field-has-error {
    animation: scd-shake 0.3s ease-in-out;
}

/* Animation keyframe handled by shared/_utilities.css */

.scd-wizard-page .scd-field-has-error input,
.scd-wizard-page .scd-field-has-error select,
.scd-wizard-page .scd-field-has-error textarea {
    border-color: var(--scd-color-error);
    box-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--scd-color-error);
}

.scd-field-has-error:focus-within input,
.scd-field-has-error:focus-within select,
.scd-field-has-error:focus-within textarea {
    box-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--scd-color-error);
    outline: 2px solid transparent;
}

.scd-wizard-page .scd-field-has-success input,
.scd-wizard-page .scd-field-has-success select,
.scd-wizard-page .scd-field-has-success textarea {
    border-color: var(--scd-color-success);
}


.scd-field-has-success::after {
    content: 'âœ“'; /* Checkmark */
    position: absolute;
    right: var(--scd-spacing-sm);
    top: 50%;
    transform: translateY(-50%);
    color: var(--scd-color-success);
    font-size: var(--scd-font-size-xxl);
    font-weight: bold;
    animation: scd-fade-in 0.2s ease;
}

/* For select elements, adjust checkmark position */
.scd-field-has-success:has(select)::after {
    right: 35px;
}



/* Validation Summary - WordPress 6.4+ Style */
.scd-validation-summary {
    margin: var(--scd-spacing-lg) 0;
    padding: var(--scd-spacing-md);
    background-color: var(--scd-color-error-bg);
    border: 1px solid var(--scd-color-error);
    border-left-width: 4px;
    border-radius: var(--scd-radius-md);
    animation: scd-fade-in 0.2s ease;
    box-shadow: var(--scd-shadow-sm);
}

.scd-validation-summary__header {
    display: flex;
    align-items: center;
    gap: var(--scd-spacing-md);
    margin-bottom: var(--scd-spacing-md);
}

.scd-validation-summary__header .scd-icon {
    color: var(--scd-color-error);
    font-size: var(--scd-font-size-xxxl);
    flex-shrink: 0;
}

.scd-validation-summary__header h4 {
    margin: 0;
    font-size: 1rem;
    font-weight: var(--scd-font-weight-semibold);
    color: var(--scd-color-error);
}

.scd-validation-summary__list {
    margin: 0;
    padding-left: 2rem;
    list-style-type: disc;
}

.scd-validation-summary__list li {
    margin-bottom: var(--scd-spacing-xs);
    color: var(--scd-color-text);
    font-size: var(--scd-font-size-base);
}

.scd-validation-summary__list a {
    color: var(--scd-color-primary);
    text-decoration: none;
    font-weight: var(--scd-font-weight-medium);
}

.scd-validation-summary__list a:hover,
.scd-validation-summary__list a:focus {
    text-decoration: underline;
    color: var(--scd-color-primary-hover);
}

/* Navigation Button States */
.scd-wizard-page .scd-nav-btn--next.scd-btn--disabled {
    opacity: 0.3;
    cursor: not-allowed;
    background-color: var(--scd-color-surface);
    color: var(--scd-color-text-lighter);
    border-color: var(--scd-color-border);
}

.scd-wizard-page .scd-nav-btn--next.scd-btn--disabled:hover {
    background-color: var(--scd-color-surface);
    color: var(--scd-color-text-lighter);
    /* transform: none; removed for instant state change */
    box-shadow: none;
}

/* Inline Validation Notification */
.scd-navigation-notice {
    margin: var(--scd-spacing-md) 0;
    padding: var(--scd-spacing-md);
    position: relative;
    border-radius: var(--scd-radius-md);
    box-shadow: var(--scd-shadow-sm);
}

.scd-navigation-notice.notice-error {
    background-color: var(--scd-color-error-bg);
    border: 1px solid var(--scd-color-error);
    border-left-width: 4px;
}

.scd-navigation-notice .notice-dismiss {
    position: absolute;
    top: var(--scd-spacing-xs);
    right: var(--scd-spacing-xs);
    border: none;
    margin: 0;
    padding: var(--scd-spacing-xs);
    background: none;
    color: var(--scd-color-text-lighter);
    cursor: pointer;
    transition: color var(--scd-transition-fast);
}

.scd-navigation-notice .notice-dismiss:hover::before,
.scd-navigation-notice .notice-dismiss:focus::before {
    color: var(--scd-color-error);
}

.scd-navigation-notice .notice-dismiss::before {
    background: none;
    color: inherit;
    content: '\f153';
    display: block;
    font: normal 16px/20px dashicons;
    speak: never;
    height: var(--scd-icon-medium);
    text-align: center;
    width: var(--scd-icon-medium);
}

/* Loading State for Validation */
.scd-field--validating {
    position: relative;
}

/* Loading spinner styles extend shared _components.css */
.scd-field--validating::after {
    /* Extends spinner from shared _components.css */
    content: '';
    position: absolute;
    right: var(--scd-spacing-sm);
    top: 50%;
    transform: translateY(-50%);
    width: var(--scd-icon-small);
    height: var(--scd-icon-small);
    /* Spinner animation handled by shared/_utilities.css */
}


/* Tooltip styles handled by shared _components.css */
.scd-nav-btn--next[title] {
    position: relative;
}

/* Animation keyframes handled by shared/_utilities.css */

/* Accessibility Focus States */
.scd-field-has-error input:focus,
.scd-field-has-error select:focus,
.scd-field-has-error textarea:focus {
    outline: 2px solid transparent;
    box-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--scd-color-error);
}

.scd-field-has-success input:focus,
.scd-field-has-success select:focus,
.scd-field-has-success textarea:focus {
    outline: 2px solid transparent;
    box-shadow: 0 0 0 var(--wp-admin-border-width-focus) var(--scd-color-success);
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .scd-field-has-error input,
    .scd-field-has-error select,
    .scd-field-has-error textarea {
        border-width: 2px;
        outline: 3px solid;
        outline-offset: 2px;
    }
    
    .scd-field-error {
        border-width: 2px;
        font-weight: bold;
    }
    
    .scd-validation-summary {
        border-width: 2px;
    }
}

/* Reduced motion handled by shared/_utilities.css */

/* Success Messages - extends alert component */
.scd-field-success {
    /* Extends .scd-alert--success from components.css */
    display: none;
    margin-top: var(--scd-spacing-xs);
    font-size: var(--scd-font-size-small);
}

.scd-field-success.scd-success--visible {
    display: block;
    animation: scd-fade-in 0.2s ease;
}