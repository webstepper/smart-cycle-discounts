/**
 * Draft Conflict Modal Styles
 *
 * Styles for the modal shown when user attempts to create a new campaign
 * while having an unsaved draft session.
 *
 * @package    SmartCycleDiscounts
 * @subpackage SmartCycleDiscounts/resources/assets/css/admin/draft-conflict-modal.css
 * @author     Webstepper.io <contact@webstepper.io>
 * @copyright  2025 Webstepper.io
 * @license    GPL-3.0-or-later https://www.gnu.org/licenses/gpl-3.0.html
 * @link       https://webstepper.io/wordpress/plugins/smart-cycle-discounts/
 * @since      1.0.0
 */

/* ==========================================================================
   Modal Base Styles
   ========================================================================== */

.wsscd-modal {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: var(--wsscd-z-modal);
	display: none;
	align-items: center;
	justify-content: center;
}

/* When modal is shown, use flex display */
.wsscd-modal.wsscd-modal--visible {
	display: flex;
}

/* ==========================================================================
   Modal Overlay
   ========================================================================== */

.wsscd-modal__overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: var(--wsscd-overlay-heavy);
	animation: wsscd-modal-overlay-fade-in var(--wsscd-transition-slow) ease-out;
}

/* ==========================================================================
   Modal Container
   ========================================================================== */

.wsscd-modal__container {
	position: relative;
	max-width: 540px;
	width: 90%;
	background: var(--wsscd-color-white);
	border-radius: var(--wsscd-radius-lg);
	box-shadow: var(--wsscd-shadow-xl);
	animation: wsscd-modal-slide-in var(--wsscd-transition-slow) var(--wsscd-ease-bounce);
	z-index: 1;
}

/* ==========================================================================
   Modal Content
   ========================================================================== */

.wsscd-modal__content {
	padding: var(--wsscd-padding-spacious) var(--wsscd-padding-spacious) var(--wsscd-padding-section);
	text-align: center;
}

/* ==========================================================================
   Close Button
   ========================================================================== */

.wsscd-modal__close {
	position: absolute;
	top: var(--wsscd-spacing-md);
	right: var(--wsscd-spacing-md);
	background: none;
	border: none;
	font-size: var(--wsscd-font-size-xl);
	cursor: pointer;
	color: var(--wsscd-color-text-muted);
	padding: var(--wsscd-spacing-xs);
	transition: all var(--wsscd-transition-base) ease;
	border-radius: var(--wsscd-radius-sm);
	display: flex;
	align-items: center;
	justify-content: center;
	width: 28px;
	height: 28px;
}

.wsscd-modal__close:hover {
	color: var(--wsscd-color-text);
	background: var(--wsscd-overlay-subtle);
}

.wsscd-modal__close:focus {
	outline: none;
	box-shadow: var(--wsscd-ring-focus);
}

.wsscd-modal__close svg {
	width: var(--wsscd-icon-small);
	height: var(--wsscd-icon-small);
}

/* ==========================================================================
   Modal Icon
   ========================================================================== */

.wsscd-modal__icon {
	font-size: var(--wsscd-icon-display);
	margin-bottom: var(--wsscd-spacing-lg);
	display: flex;
	align-items: center;
	justify-content: center;
}

.wsscd-modal__icon svg {
	width: var(--wsscd-icon-display);
	height: var(--wsscd-icon-display);
}

/* Icon color variants */
.wsscd-modal__icon--warning {
	color: var(--wsscd-color-warning);
}

.wsscd-modal__icon--error {
	color: var(--wsscd-color-danger);
}

.wsscd-modal__icon--success {
	color: var(--wsscd-color-success);
}

.wsscd-modal__icon--info {
	color: var(--wsscd-color-secondary);
}

/* Modal-level info variant (used via modal classes) */
.wsscd-modal.wsscd-modal--info .wsscd-modal__icon {
	color: var(--wsscd-color-secondary);
}

/* ==========================================================================
   Modal Title
   ========================================================================== */

.wsscd-modal__title {
	font-size: var(--wsscd-font-size-xxl);
	font-weight: var(--wsscd-font-weight-semibold);
	margin: 0 0 var(--wsscd-spacing-base);
	color: var(--wsscd-color-text);
	line-height: var(--wsscd-line-height-tight);
}

/* ==========================================================================
   Modal Message
   ========================================================================== */

.wsscd-modal__message {
	margin-bottom: var(--wsscd-spacing-xl);
	color: var(--wsscd-color-text-muted);
	line-height: var(--wsscd-line-height-relaxed);
	font-size: var(--wsscd-font-size-base);
}

.wsscd-modal__message p {
	margin: var(--wsscd-spacing-sm) 0;
}

.wsscd-modal__message p:first-child {
	margin-top: 0;
}

.wsscd-modal__message p:last-child {
	margin-bottom: 0;
}

/* Draft name in message - prominent */
.wsscd-modal__message strong {
	color: var(--wsscd-color-text);
	font-weight: var(--wsscd-font-weight-semibold);
}

/* Draft meta information */
.wsscd-modal__draft-meta {
	display: flex;
	flex-direction: column;
	gap: var(--wsscd-spacing-xs);
	margin-top: var(--wsscd-spacing-md);
	padding: var(--wsscd-padding-compact);
	background: var(--wsscd-overlay-faint);
	border-radius: var(--wsscd-radius-sm);
	border: var(--wsscd-border-width) solid var(--wsscd-color-border-light);
}

.wsscd-modal__draft-meta-item {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--wsscd-spacing-xs);
	font-size: var(--wsscd-font-size-small);
	color: var(--wsscd-color-text-muted);
}

.wsscd-modal__draft-meta-item svg {
	width: var(--wsscd-icon-small);
	height: var(--wsscd-icon-small);
	flex-shrink: 0;
}

/* Expiration indicator in modal */
.wsscd-modal__expiration {
	display: inline-flex;
	align-items: center;
	gap: var(--wsscd-spacing-xxs);
	padding: var(--wsscd-spacing-xxs) var(--wsscd-spacing-sm);
	font-size: var(--wsscd-font-size-small);
	font-weight: var(--wsscd-font-weight-medium);
	border-radius: var(--wsscd-radius-sm);
	border: var(--wsscd-border-width) solid transparent;
}

/* Normal state - plenty of time (>30 minutes) */
.wsscd-modal__expiration.wsscd-expiration-normal {
	color: var(--wsscd-color-text-muted);
	background: var(--wsscd-overlay-faint);
	border-color: var(--wsscd-overlay-border);
}

/* Warning state - running low (15-30 minutes) */
.wsscd-modal__expiration.wsscd-expiration-warning {
	color: var(--wsscd-color-warning-dark);
	background: var(--wsscd-alert-warning-bg);
	border-color: var(--wsscd-color-warning-alpha-25);
}

/* Urgent state - critical (â‰¤15 minutes) */
.wsscd-modal__expiration.wsscd-expiration-urgent {
	color: var(--wsscd-color-danger-dark);
	background: var(--wsscd-alert-danger-bg);
	border-color: var(--wsscd-color-danger-alpha-30);
	font-weight: var(--wsscd-font-weight-semibold);
}

/* ==========================================================================
   Modal Actions (Buttons)
   ========================================================================== */

.wsscd-modal__actions {
	display: flex;
	gap: var(--wsscd-spacing-sm);
	justify-content: center;
	flex-wrap: wrap;
}

/* Modal button size overrides - uses shared button classes from _buttons.css */
.wsscd-modal__actions .wsscd-button {
	min-height: 36px;
	padding: var(--wsscd-spacing-sm) var(--wsscd-padding-large);
	border-radius: var(--wsscd-radius-sm);
}

/* Primary button shadow enhancement for modal context */
.wsscd-modal__actions .wsscd-button--primary {
	box-shadow: var(--wsscd-shadow-primary);
}

.wsscd-modal__actions .wsscd-button--primary:hover {
	box-shadow: 0 4px 12px var(--wsscd-color-primary-alpha-25);
}

/* Ghost danger button for modal - starts as outline, fills on hover */
.wsscd-modal__actions .wsscd-button--ghost-danger {
	background: var(--wsscd-color-white);
	border-color: var(--wsscd-color-danger-alpha-30);
	color: var(--wsscd-color-danger-dark);
}

.wsscd-modal__actions .wsscd-button--ghost-danger:hover {
	background: var(--wsscd-color-danger-dark);
	border-color: var(--wsscd-color-danger-dark);
	color: var(--wsscd-color-white);
	box-shadow: 0 4px 12px var(--wsscd-color-danger-alpha-25);
}

/* Preserve WordPress core button compatibility (legacy) */
.wsscd-modal__actions .button {
	margin: 0;
}

/* ==========================================================================
   Animations
   ========================================================================== */

@keyframes wsscd-modal-overlay-fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes wsscd-modal-slide-in {
	from {
		transform: translateY(-30px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

/* ==========================================================================
   Body State
   ========================================================================== */

body.wsscd-modal-open {
	overflow: hidden;
}

/* ==========================================================================
   Responsive Design
   ========================================================================== */

@media screen and (max-width: 600px) {
	.wsscd-modal__container {
		width: 95%;
		margin: var(--wsscd-spacing-lg);
	}

	.wsscd-modal__content {
		padding: var(--wsscd-padding-section) var(--wsscd-padding-large);
	}

	.wsscd-modal__actions {
		flex-direction: column;
	}

	.wsscd-modal__actions .wsscd-button,
	.wsscd-modal__actions .button {
		width: 100%;
		margin: var(--wsscd-spacing-xs) 0;
	}

	.wsscd-modal__title {
		font-size: var(--wsscd-font-size-xl);
	}

	.wsscd-modal__icon svg {
		width: 40px;
		height: 40px;
	}
}

/* ==========================================================================
   Accessibility - Reduced Motion
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
	.wsscd-modal__container {
		animation: none;
	}

	.wsscd-modal__overlay {
		animation: none;
	}

	.wsscd-modal__actions .wsscd-button {
		transition: none;
	}
}
